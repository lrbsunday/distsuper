[common]
server = 127.0.0.1
agent = 127.0.0.1
server_log_file_path = 'logs/server.log'
agent_log_file_path = 'logs/agent.log'

[agent]
log_file_name = 'logs/agent.log'

[db]
host = localhost
port = 3306
user = root
password = lrbsunday
db = distsuper

[program:test0]
command = sleep 10
auto_start = true
auto_restart = true
machines = 127.0.0.1,localhost
touch_timeout = 5
max_fail_count = 3

[program:test1]
command = sleep 600
auto_start = false
auto_restart = true
machines = 127.0.0.1,localhost
touch_timeout = 5
max_fail_count = 3

[program:test2]
command = sleep 600
auto_start = true
auto_restart = false
machines = 127.0.0.1,localhost
touch_timeout = 5
max_fail_count = 3

[program:test3]
command = sleep 600
auto_start = true
auto_restart = true
machines = wrong,127.0.0.1
touch_timeout = 5
max_fail_count = 3

[program:test4]
command = sleep 600
auto_start = true
auto_restart = true
machines = 127.0.0.1,localhost
touch_timeout = 1
max_fail_count = 3

[program:test5]
command = sleep 600
auto_start = true
auto_restart = true
machines = 127.0.0.1,localhost
touch_timeout = 5
max_fail_count = 1

[server-http]
http = 0.0.0.0:3378
wsgi = distsuper.web
master-fifo = server.fifo
callable = app
master = 1
processes = 4
vacuum = true
buffer-size = 16384
http-timeout = 60
enable-threads = true
listen = 128
memory-report = true
need-app = true
worker-reload-mercy = 3
max-requests = 1000
max-worker-lifetime = 3600
pidfile = server.pid
daemonize = logs/server.uwsgi.log
req-logger = file:logs/server.req.log
logger = error file:logs/server.err.log
log-route = error error|Error|ERROR
log-format = %(ltime) - %(method) - %(uri) - %(proto) - %(status) - %(time) - %(msecs)
# 如果你的distsuper在虚拟环境中运行，在这里把虚拟环境的路径配上
home = venv

[agent-http]
http = 0.0.0.0:3379
wsgi = distsuper.web
master-fifo = agent.fifo
callable = app
master = 1
processes = 4
vacuum = true
buffer-size = 16384
http-timeout = 60
enable-threads = true
listen = 128
memory-report = true
need-app = true
worker-reload-mercy = 3
max-requests = 1000
max-worker-lifetime = 3600
pidfile = agent.pid
daemonize = logs/agent.uwsgi.log
req-logger = file:logs/agent.req.log
logger = error file:logs/agent.err.log
log-route = error error|Error|ERROR
log-format = %(ltime) - %(method) - %(uri) - %(proto) - %(status) - %(time) - %(msecs)
# 如果你的distsuper在虚拟环境中运行，在这里把虚拟环境的路径配上
home = venv
